<section id="register_form">
    <form [formGroup]="userForm" (ngSubmit)="handleSubmit()">
        <label for="nombre">Nombre</label>
        <div class="input_container">
            <input id="nombre" formControlName="nombre" 
            [class.input_invalido]="userForm.get('nombre')?.invalid && userForm.get('nombre')?.touched" />
            @if (userForm.get('nombre')?.invalid && userForm.get('nombre')?.touched) {
                <span class="error">El nombre debe tener entre 2 y 50 caracteres.</span>
            }
        </div>
        
        <label for="apellido">Apellido</label>
        <div class="input_container">
            <input id="apellido" formControlName="apellido" 
            [class.input_invalido]="userForm.get('apellido')?.invalid && userForm.get('apellido')?.touched" />
            @if (userForm.get('apellido')?.invalid && userForm.get('apellido')?.touched) {
                <span class="error">El apellido debe tener entre 2 y 50 caracteres.</span>
            }
        </div>

        <label for="email">E-Mail</label>
        <div class="input_container">
            <input id="email" formControlName="email" 
            [class.input_invalido]="userForm.get('email')?.invalid && userForm.get('email')?.touched" />
            @if (userForm.get('email')?.invalid && userForm.get('email')?.touched) {
                <span class="error">Debe ingresar un e-mail válido.</span>
            }
        </div>

        <label for="password">Contraseña</label>
        <div class="input_container">
            <input id="password" formControlName="password" 
            [class.input_invalido]="userForm.get('password')?.invalid && userForm.get('password')?.touched" />
            @if (userForm.get('password')?.invalid && userForm.get('password')?.touched) {
                <span class="error">La contraseña debe tener al menos 3 caracteres.</span>
            }
        </div>

        <label for="role">Rol</label>
        <div class="input_container">
            <select id="role" formControlName="role">
                @for (rol of roleEnumList; track rol) {
                    <option [value]="rol">{{ rol }}</option>
                }
            </select>
        </div>

        <!-- Perfil -->
        @if (userForm.get('role')?.value === roleEnum.PERFIL) {
            <label for="nickname">Nickname</label>
            <div class="input_container">
                <input id="nickname" formControlName="nickname" 
                [class.input_invalido]="userForm.get('nickname')?.invalid && userForm.get('nickname')?.touched" />
                @if (userForm.get('nickname')?.invalid && userForm.get('nickname')?.touched) {
                    <span class="error">El nickname debe tener entre 3 y 50 caracteres.</span>
                }
                
            </div>
        }


        <!-- Desarrolladora -->
        @if (userForm.get('role')?.value === roleEnum.DESARROLLADORA) {
            <label for="nombreDesarrolladora">Nombre de la Desarrolladora</label>
            <div class="input_container">
                <input id="nombreDesarrolladora" formControlName="nombreDesarrolladora" 
                [class.input_invalido]="userForm.get('nombreDesarrolladora')?.invalid && userForm.get('nombreDesarrolladora')?.touched" />
                @if (userForm.get('nombreDesarrolladora')?.invalid && userForm.get('nombreDesarrolladora')?.touched) {
                    <span class="error">El nombre de la desarrolladora debe tener entre 3 y 50 caracteres.</span>
                }
            </div>
    
            <label for="paisOrigen">País de Origen</label>
            <div class="input_container">
                <input id="paisOrigen" formControlName="paisOrigen" 
                [class.input_invalido]="userForm.get('paisOrigen')?.invalid && userForm.get('paisOrigen')?.touched" />
                @if (userForm.get('paisOrigen')?.invalid && userForm.get('paisOrigen')?.touched) {
                    <span class="error">El pais debe tener entre 2 y 50 caracteres.</span>
                }
            </div>
        }

    
        <div class="buttonArea">
          <button type="submit" [disabled]="userForm.invalid">Registrarse</button>
        </div>
    </form>
</section>